---
layout: default
title: 博文
script: |
  document.addEventListener('DOMContentLoaded', () => {
    const timeline = document.querySelector('.timeline');
    const items = document.querySelectorAll('.timeline-item');
    const contentArea = document.querySelector('.content-area');

    // 滚轮控制左右滑动
    timeline.addEventListener('wheel', (e) => {
      e.preventDefault();
      timeline.scrollLeft += e.deltaY * 2; // 滚轮上下转为左右滑动
    });

    // 点击显示内容
    items.forEach(item => {
      item.addEventListener('click', () => {
        const url = item.dataset.url;
        fetch(url)
          .then(response => response.text())
          .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const content = doc.querySelector('.post-content').innerHTML;
            contentArea.innerHTML = `
              <h1>${item.querySelector('span').textContent}</h1>
              <div class="date">${item.querySelector('.date').textContent}</div>
              <div class="post-content">${content}</div>
            `;
            contentArea.scrollIntoView({ behavior: 'smooth' });
          });
      });
    });
  });
---
<div class="content-area"></div>
<div class="timeline-wrapper">
  <div class="timeline">
    {% for post in site.posts %}
      <div class="timeline-item" data-url="{{ post.url | relative_url }}">
        <div class="date">{{ post.date | date: "%Y-%m-%d" }}</div>
        <span>{{ post.title }}</span>
      </div>
    {% endfor %}
  </div>
</div>