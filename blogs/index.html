---
layout: default
title: ÂçöÊñá
script: |
  document.addEventListener('DOMContentLoaded', () => {
    const timeline = document.querySelector('.timeline');
    const items = document.querySelectorAll('.timeline-item');
    const contentArea = document.querySelector('.article-content');

    // ÊªöËΩÆÊéßÂà∂Êó∂Èó¥ËΩ¥ÊªëÂä®
    timeline.addEventListener('wheel', (e) => {
      e.preventDefault();
      timeline.scrollTop += e.deltaY * 0.5;
    });

    // ÁÇπÂáªÊòæÁ§∫ÂÜÖÂÆπÂπ∂Êõ¥Êñ∞ËøõÂ∫¶Êù°
    items.forEach(item => {
      item.addEventListener('click', () => {
        const url = item.dataset.url;
        fetch(url)
          .then(response => response.text())
          .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const content = doc.querySelector('.post-content').innerHTML;
            contentArea.innerHTML = `
              <h1>${item.querySelector('.title-text').textContent}</h1>
              <div class="date">${item.querySelector('.date').textContent}</div>
              <div class="summary">${item.dataset.summary}</div>
              <div class="post-content">${content}</div>
              <div class="progress-bar"><div class="progress"></div></div>
            `;
            updateProgress();
          });
      });
    });

    // Êõ¥Êñ∞ËøõÂ∫¶Êù°
    function updateProgress() {
      const content = contentArea.querySelector('.post-content');
      const progress = contentArea.querySelector('.progress');
      contentArea.addEventListener('scroll', () => {
        const scrollTop = contentArea.scrollTop;
        const scrollHeight = content.scrollHeight - contentArea.clientHeight;
        const percent = (scrollTop / scrollHeight) * 100;
        progress.style.width = `${percent}%`;
      });
    }
  });
---
<div class="blog-container">
  <div class="timeline-wrapper">
    <div class="timeline">
      {% for post in site.posts %}
        <div class="timeline-item" 
             data-url="{{ post.url | relative_url }}"
             data-summary="{{ post.content | strip_html | truncate: 100 }}">
          <div class="date">{{ post.date | date: "%Y-%m-%d" }}</div>
          <div class="title">
            <span class="icon">üìù</span> <!-- ÂõæÊ†áÂèØÊ†πÊçÆÂàÜÁ±ªÊõøÊç¢ -->
            <span class="title-text">{{ post.title }}</span>
            <div class="preview">{{ post.content | strip_html | truncate: 100 }}</div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <div class="article-content"></div>
</div>